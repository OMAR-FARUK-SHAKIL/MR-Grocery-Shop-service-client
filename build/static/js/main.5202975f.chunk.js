(this["webpackJsonpMr-Grocery-client"]=this["webpackJsonpMr-Grocery-client"]||[]).push([[0],{133:function(e,t,n){e.exports=n(195)},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},145:function(e,t,n){},147:function(e,t,n){},167:function(e,t,n){},195:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),l=n.n(c),o=(n(138),n(8)),u=(n(139),n(140),n(22)),i=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Mr.Grocery Shop and Service"),r.a.createElement("nav",null,r.a.createElement(u.b,{to:"/shop"},"Home"),r.a.createElement(u.b,{to:"/orders"},"Orders"),r.a.createElement(u.b,{to:"/inventory"},"Admin"),r.a.createElement(u.b,{to:"/shop"},"Deals"),r.a.createElement(u.b,{to:"/login"},"Login")))},s=(n(145),n(226)),m=n(228),d=n(232),p=n(223),h=n(229),f=n(230),E=n(231),g=n(50),b=Object(p.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(4)},container:{paddingTop:"50px",paddingBottom:"20px",textAlign:"center",paddingLeft:"100px"}}})),y=function(){b();var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){fetch("https://nameless-plateau-15904.herokuapp.com/products").then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]),console.log(n),r.a.createElement("div",{className:"twin-container"},r.a.createElement(s.a,{container:!0,spacing:6,direction:"row",justify:"flex-start",alignItems:"flex-start"},0===n.length&&r.a.createElement("div",{id:"loading"},r.a.createElement(m.a,null),r.a.createElement(m.a,{color:"secondary"}),r.a.createElement("h1",null,"Loading...")),n.map((function(e){return r.a.createElement(s.a,{item:!0,xs:12,sm:6,md:4,key:n.indexOf(e)},r.a.createElement(h.a,{style:{backgroundColor:"#dfe6cc",height:500,width:300,marginLeft:30,textAlign:"center"}},r.a.createElement(f.a,{title:"ProductName : ".concat(e.name)}),r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"h5",gutterBottom:!0},r.a.createElement("img",{src:e.imageURL,width:"80%",alt:""}),r.a.createElement("h4",null,"Price: ",e.price),r.a.createElement("h4",null,"Available: ",e.quantity))),r.a.createElement(d.a,null,r.a.createElement(u.b,{to:"/product/".concat(e._id)},r.a.createElement("button",{style:{fontSize:"20px"}},"Buy Now")))))}))))},v=n(32),j=n(116),O=(n(147),n(148)),w=function(){var e=Object(j.a)(),t=e.register,n=e.handleSubmit,c=Object(a.useState)(null),l=Object(o.a)(c,2),u=l[0],i=l[1],s=Object(a.useState)([]),m=Object(o.a)(s,2);m[0],m[1];fetch("https://nameless-plateau-15904.herokuapp.com/products").then((function(e){return e.json()})).then((function(e){console.log("data=",e);var t=document.getElementById("manage-product");t.innerHTML="",e.forEach((function(e){var n=document.createElement("p");n.innerHTML="".concat(e.name," --price:").concat(e.price," --quantity:").concat(e.quantity,'\n            <button onclick="update()">update</button>\n            <button onclick="deleteProduct(').concat(e._id,')">delete</button><hr>'),t.appendChild(n)}))}));return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){document.getElementById("new-product").style.display="block",document.getElementById("manage-product").style.display="none"}},"Insert New Product"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){document.getElementById("new-product").style.display="none",document.getElementById("manage-product").style.display="block"}},"Manage Product"),r.a.createElement("div",{id:"new-product"},r.a.createElement("form",{action:"",onSubmit:n((function(e){console.log("form submitted",e);var t={name:e.name,price:e.price,quantity:e.quantity,imageURL:u};fetch("https://nameless-plateau-15904.herokuapp.com/addProduct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e&&(console.log(e),alert("Your order submitted successfully"))}))}))},r.a.createElement("p",null,r.a.createElement("span",null,"Name:"),r.a.createElement("input",{name:"name",defaultValue:"potato",ref:t({required:!0})})),r.a.createElement("p",null,r.a.createElement("span",null,"Price:"),r.a.createElement("input",{name:"price",defaultValue:"20",ref:t({required:!0})})),r.a.createElement("p",null,r.a.createElement("span",null,"Quantity:"),r.a.createElement("input",{name:"quantity",defaultValue:"1",ref:t({required:!0})})),r.a.createElement("p",null,r.a.createElement("span",null,"Product Image:"),r.a.createElement("input",{type:"file",onChange:function(e){console.log(e.target.files[0]);var t=new FormData;t.set("key","fb591b302a303b79a247b8e957b14fc2"),t.append("image",e.target.files[0]),O.post("https://api.imgbb.com/1/upload",t).then((function(e){console.log(e.data.data.display_url),i(e.data.data.display_url)})).catch((function(e){return console.log(e)}))}})),r.a.createElement("input",{type:"submit"}))),r.a.createElement("div",{id:"manage-product"}))},S=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Sorry, page not found"),r.a.createElement("h3",null,"404 Error!!!"))},k=n(41),x=(n(167),n(97)),I=n(19),C=n(234),P=n(233),B=function(){var e=Object(a.useContext)(M),t=Object(o.a)(e,2),n=t[0],c=(t[1],Object(v.i)().productKey),l=Object(a.useState)({}),u=Object(o.a)(l,2),i=u[0],m=u[1],d=Object(a.useState)({today:new Date}),p=Object(o.a)(d,2),h=p[0],f=p[1];Object(a.useEffect)((function(){fetch("https://nameless-plateau-15904.herokuapp.com/product/".concat(c)).then((function(e){return e.json()})).then((function(e){return m(e)}))}),[c]),console.log("pd details= ",i,c);return r.a.createElement("div",{className:"product-details"},r.a.createElement("h1",null,"Your Product Details."),r.a.createElement("div",null,r.a.createElement("h3",null,i.name),r.a.createElement("img",{src:i.imageURL,alt:""})),r.a.createElement(I.a,{utils:x.a},r.a.createElement(s.a,{container:!0,justify:"space-around"},r.a.createElement(C.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Check In Date ",value:h.today,onChange:function(e){var t=Object(k.a)({},h);t.today=e,f(t)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(P.a,{onClick:function(){var e=Object(k.a)({},n,{},h,{},i);fetch("https://nameless-plateau-15904.herokuapp.com/placeOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e&&alert("Your order placed successfully.Thank you.")}))},variant:"contained",color:"primary"},"Place Order")))},L=n(30),N=(n(193),{apiKey:"AIzaSyBHhOX8rtp2vahVcATkhTD_7CwARw6arrk",authDomain:"fire-auth2.firebaseapp.com",databaseURL:"https://fire-auth2.firebaseio.com",projectId:"fire-auth2",storageBucket:"fire-auth2.appspot.com",messagingSenderId:"587131087182",appId:"1:587131087182:web:f7e53e9007fe7760d7561f"}),T=function(e){L.auth().currentUser.updateProfile({displayName:e}).then((function(){console.log("user name updated successfully")})).catch((function(e){console.log(e)}))};var A=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)({isSignedIn:!1,name:"",email:"",password:"",photo:""}),u=Object(o.a)(l,2),i=u[0],s=u[1];0===L.apps.length&&L.initializeApp(N);var m=Object(a.useContext)(M),d=Object(o.a)(m,2),p=(d[0],d[1]),h=Object(v.g)(),f=(Object(v.h)().state||{from:{pathname:"/"}}).from,E=function(e,t){s(e),p(e),t&&h.replace(f)},g=function(e){var t=!0;if("email"===e.target.name&&(t=/\S+@\S+\.\S+/.test(e.target.value)),"password"===e.target.name){var n=e.target.value.length>6,a=/\d{1}/.test(e.target.value);t=n&&a}if(t){var r=Object(k.a)({},i);r[e.target.name]=e.target.value,s(r)}};return r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"lightgrey",width:"400px",padding:50,marginLeft:500}},i.isSignedIn?r.a.createElement("button",{onClick:function(){L.auth().signOut().then((function(e){return{isSignedIn:!1,name:"",email:"",photo:"",error:"",success:!1}})).catch((function(e){console.log(e)})).then((function(e){E(e,!1)}))}},"Sign Out"):r.a.createElement("button",{onClick:function(){(function(){var e=new L.auth.GoogleAuthProvider;return L.auth().signInWithPopup(e).then((function(e){var t=e.user,n=t.displayName,a=t.photoURL;return{isSignedIn:!0,name:n,email:t.email,photo:a,success:!0}})).catch((function(e){console.log(e),console.log(e.message)}))})().then((function(e){E(e,!0)}))}},"Log In With Google "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",onChange:function(){return c(!n)},name:"newUser",id:""}),r.a.createElement("label",{htmlFor:"newUser"},"New User Sign up"),r.a.createElement("form",{onSubmit:function(e){var t,a,r;n&&i.email&&i.password&&(t=i.name,a=i.email,r=i.password,L.auth().createUserWithEmailAndPassword(a,r).then((function(e){var n=e.user;return n.error="",n.success=!0,T(t),n})).catch((function(e){var t={};return t.error=e.message,t.success=!1,t}))).then((function(e){E(e,!0)})),!n&&i.email&&i.password&&function(e,t){return L.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;return t.error="",t.success=!0,t})).catch((function(e){var t={};return t.error=e.message,t.success=!1,t}))}(i.email,i.password).then((function(e){E(e,!0)})),e.preventDefault()}},n&&r.a.createElement("input",{name:"name",type:"text",onBlur:g,placeholder:"Your name"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"email",onBlur:g,placeholder:"Your Email address",required:!0}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",onBlur:g,placeholder:"Your Password",required:!0}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:n?"Sign up":"Sign in"})),r.a.createElement("p",{style:{color:"red"}},i.error),i.success&&r.a.createElement("p",{style:{color:"green"}},"User ",n?"created":"Logged In"," successfully"))},q=n(2),D=function(e){var t=e.children,n=Object(q.a)(e,["children"]),c=Object(a.useContext)(M),l=Object(o.a)(c,2),u=l[0];l[1];return r.a.createElement(v.b,Object.assign({},n,{render:function(e){var n=e.location;return u.email?t:r.a.createElement(v.a,{to:{pathname:"/login",state:{from:n}}})}}))},U=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],l=Object(a.useContext)(M),u=Object(o.a)(l,2),i=u[0];u[1];return Object(a.useEffect)((function(){fetch("https://nameless-plateau-15904.herokuapp.com/bookings?email="+i.email,{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]),r.a.createElement("div",{style:{padding:30,backgroundColor:"lightgrey"}},r.a.createElement("h1",null,"Your all orders yet now..!!"),r.a.createElement("div",null,r.a.createElement("h3",null,"You have : ",n.length," orders and these are:"),n.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("h4",null,"product Name: ",e.name,"----price: ",e.price,"----Date: ",new Date(e.today).toDateString("dd/mm/yyyy")))}))))},M=Object(a.createContext)();var Y=function(e){var t=Object(a.useState)({}),n=Object(o.a)(t,2),c=n[0],l=n[1];return r.a.createElement(M.Provider,{value:[c,l]},r.a.createElement("h3",null,"email: ",c.email),r.a.createElement(u.a,null,r.a.createElement(i,null),r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/shop"},r.a.createElement(y,null)),r.a.createElement(D,{path:"/inventory"},r.a.createElement(w,null)),r.a.createElement(v.b,{path:"/login"},r.a.createElement(A,null)),r.a.createElement(v.b,{exact:!0,path:"/"},r.a.createElement(y,null)),r.a.createElement(D,{path:"/product/:productKey"},r.a.createElement(B,null)),r.a.createElement(D,{path:"/orders"},r.a.createElement(U,null)),r.a.createElement(v.b,{path:"*"},r.a.createElement(S,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[133,1,2]]]);
//# sourceMappingURL=main.5202975f.chunk.js.map